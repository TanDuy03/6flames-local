const form=document.querySelector(".form-add-delivery"),lname=document.querySelector(".lname"),phone=document.querySelector(".phone"),email=document.querySelector(".email"),address=document.querySelector(".address"),province=document.querySelector(".province-select"),district=document.querySelector(".district-select"),ward=document.querySelector(".ward-select"),service=document.querySelector(".service-select");let lnameValid=!1,phoneValid=!1,emailValid=!1,addressValid=!1,provinceValid=!1,districtValid=!1,wardValid=!1,serviceValid=!1;function checkName(){const e=lname.value.trim();return""===e?(lname.classList.add("input-error"),setErrorFor(lname,"Vui lòng nhập trường này"),lname.focus(),!1):isValidName(e)?(lname.classList.add("input-error"),setErrorFor(lname,"Trường này phải là chữ"),lname.focus(),!1):e.length<3?(lname.classList.add("input-error"),setErrorFor(lname,"Họ tên quá ngắn"),lname.focus(),!1):(setSuccessFor(lname),!0)}function removeAscent(e){return null==e?e:e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a")).replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e")).replace(/ì|í|ị|ỉ|ĩ/g,"i")).replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o")).replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u")).replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y")).replace(/đ/g,"d")}function isValidName(e){return/^[a-zA-Z!@#\$%\^\&*\)\(+=._-]{3,}$/g.test(removeAscent(e))}function checkPhone(){const e=phone.value.trim();return""===e?(phone.classList.add("input-error"),setErrorFor(phone,"Vui lòng nhập trường này"),phone.focus(),!1):Number(e)?e.length<10||e.length>10?(phone.classList.add("input-error"),setErrorFor(phone,"Phải đủ 10 chữ số"),phone.focus(),!1):phoneRegex(e)?(setSuccessFor(phone),!0):(phone.classList.add("input-error"),setErrorFor(phone,"Số điện thoại không hợp lệ"),phone.focus(),!1):(phone.classList.add("input-error"),setErrorFor(phone,"Trường này phải là số"),phone.focus(),!1)}function phoneRegex(e){return/(84|0[3|5|7|8|9])+([0-9]{8})/.test(e)}function checkEmail(){const e=email.value.trim();return""===e?(email.classList.add("input-error"),setErrorFor(email,"Vui lòng nhập trường này"),email.focus(),!1):e.length<5?(email.classList.add("input-error"),setErrorFor(email,"Email quá ngắn"),email.focus(),!1):checkEmailRegex(e)?(setSuccessFor(email),!0):(email.classList.add("input-error"),setErrorFor(email,"Email sai định dạng"),email.focus(),!1)}function checkEmailRegex(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function checkAddress(){const e=address.value.trim();return""===e?(address.classList.add("input-error"),setErrorFor(address,"Vui lòng nhập trường này"),address.focus(),!1):e.length<5?(address.classList.add("input-error"),setErrorFor(address,"Địa chỉ quá ngắn"),address.focus(),!1):(setSuccessFor(address),!0)}function checkProvince(){return 0==province.selectedIndex?(province.classList.add("input-error"),setErrorFor(province,"Vui lòng chọn trường này"),province.focus(),!1):(setSuccessFor(province),!0)}function checkDistrict(){return 0==district.selectedIndex?(district.classList.add("input-error"),setErrorFor(district,"Vui lòng chọn trường này"),district.focus(),!1):(setSuccessFor(district),!0)}function checkWard(){return 0==ward.selectedIndex?(ward.classList.add("input-error"),setErrorFor(ward,"Vui lòng chọn trường này"),ward.focus(),!1):(setSuccessFor(ward),!0)}function checkService(){return 0==service.selectedIndex?(service.classList.add("input-error"),setErrorFor(service,"Vui lòng chọn trường này"),service.focus(),!1):(setSuccessFor(service),!0)}function setErrorFor(e,r){e.parentElement.querySelectorAll("small").forEach((e=>{e.innerText=r}))}function setSuccessFor(e){const r=e.parentElement,c=r.querySelector(".form-control"),n=r.querySelector(".form-select");c&&(c.className="form-control input-success"),n&&(n.className="form-select input-success")}form&&form.addEventListener("submit",(e=>{e.preventDefault();let r=checkName(),c=checkPhone(),n=checkEmail(),s=checkAddress(),t=checkProvince(),o=checkDistrict(),i=checkWard(),a=checkService();lname.addEventListener("keyup",(()=>{r=checkName()})),phone.addEventListener("keyup",(()=>{c=checkPhone()})),email.addEventListener("keyup",(()=>{n=checkEmail()})),address.addEventListener("keyup",(()=>{s=checkAddress()})),province.addEventListener("change",(()=>{t=checkProvince()})),district.addEventListener("change",(()=>{o=checkDistrict()})),ward.addEventListener("change",(()=>{i=checkWard()})),service.addEventListener("change",(()=>{a=checkService()})),r&&c&&n&&s&&t&&o&&i&&a&&form.submit()}));